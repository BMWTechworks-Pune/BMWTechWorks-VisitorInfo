
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BMWTechWorks India â€“ PUNEVB</title>
  <style>
    :root{--blue:#1c6ecf;--dark:#0b1f3d;--light:#f7f9fc;--border:#e3e8ef}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,"Noto Sans",sans-serif;background:var(--light);color:#14202a}
    header{background:#fff;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:10}
    .top{max-width:1080px;margin:0 auto;padding:10px 16px;display:flex;align-items:center;justify-content:space-between}
    nav{max-width:1080px;margin:0 auto;padding:8px 16px;display:flex;flex-wrap:wrap;gap:8px}
    button.nav{border:1px solid var(--border);background:#fff;color:#0b2540;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600}
    button.nav.active{border-color:var(--blue);background:#eaf3ff}
    main{max-width:1080px;margin:16px auto;padding:0 16px 40px}
    section.panel{display:none;background:#fff;border:1px solid var(--border);border-radius:12px;padding:16px}
    section.panel.active{display:block}
    h2{margin:0 0 8px;color:var(--dark)}
    h3{margin:16px 0 8px;color:#0b2540}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
    .card{border:1px solid var(--border);border-radius:12px;padding:12px;background:#fafcff}
    ul{margin:8px 0 0 18px}
    table{width:100%;border-collapse:collapse;margin-top:8px}
    th, td{border:1px solid #e3e8ef;padding:8px;text-align:left}
    .footer-note{font-size:13px;color:#5a6b7a;margin-top:8px}
    .qr{display:inline-block;padding:8px 12px;border:1px dashed #c9d6e5;border-radius:12px;background:#fff}
    img.inset{max-width:100%;border:1px solid #d7dde8;border-radius:10px;margin:8px 0}
    footer{padding:24px 16px 40px;text-align:center;color:#5a6b7a}
    a.tel{white-space:nowrap}
    /* Basic look & feel */
    .card { padding: 12px; border: 1px solid #ddd; border-radius: 8px; background: #fff; }
    .muted { color: #555; }
    .controls-bar { display: flex; flex-direction: column; gap: 8px; }
    .zoom-controls button, .select-controls button, .audio-controls button {
      padding: 6px 10px; border-radius: 6px; border: 1px solid #ccc; background: #f7f7f7; cursor: pointer;
    }
    .select-controls select { padding: 4px; }
    .steps-wrap { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 12px; }
    .steps-column ol { min-height: 80px; }
    /* Buttons inside share panel */
    .btn {
      display: inline-block;
      padding: 8px 12px;
      border: 1px solid var(--border);
      border-radius: 10px;
      background: #fff;
      color: #0b2540;
      font-weight: 600;
      text-decoration: none;
      cursor: pointer;
    }
    .btn:hover { background: #eaf3ff; border-color: var(--blue); }
    /* Ensure QR container looks tidy */
    .qr img { border-radius: 8px; }
    /* Stage: pan/zoom container */
    #imgStageWrapper {
      width: 100%;
      height: 58vh; /* adjust as needed */
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
      background: #fafafa;
      position: relative;
      margin-top: 10px;
    }
    #imgStage {
      width: 100%;
      height: 100%;
      transform-origin: 0 0;
      cursor: grab;
      position: relative;
    }
    #imgStage.grabbing { cursor: grabbing; }
    #floorImg {
      position: absolute;
      left: 0; top: 0;
      user-select: none;
      -webkit-user-drag: none;
    }
    #routeCanvas {
      position: absolute;
      left: 0; top: 0; pointer-events: none;
    }
    /* Room markers */
    .room-marker {
      position: absolute;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 0.9);
      color: #333;
      border: 1px solid #b0b0b0;
      border-radius: 6px;
      padding: 3px 6px;
      font-size: 12px;
      white-space: nowrap;
      user-select: none;
      cursor: pointer;
    }
    .room-marker:hover { background: #fff; }
    .room-marker.selected-from { border-color: #0078d4; box-shadow: 0 0 0 2px rgba(0,120,212,0.2); }
    .room-marker.selected-to   { border-color: #47a447; box-shadow: 0 0 0 2px rgba(71,164,71,0.2); }
    /* --- Added: BMW-style header brand + light-grey language buttons --- */
    .brand { display: inline-flex; align-items: center; gap: 12px; min-width: 0; }
    .brand-logo { width: 40px; height: 40px; object-fit: contain; }
    .brand-title {
      font-family: "BMW Type Next", "Helvetica Neue", Helvetica, Arial, system-ui, -apple-system, "Segoe UI",
      "Noto Sans", "Liberation Sans", sans-serif;
      font-weight: 700;
      font-size: 1.1rem;
      letter-spacing: 0.2px;
      color: #000;
      white-space: nowrap;
    }
    .lang-switch { display: inline-flex; align-items: center; gap: 8px; }
    .lang-btn {
      appearance: none;
      border: 1px solid #d0d0d0;
      background: #f2f2f2; /* light grey */
      color: #1a1a1a;
      padding: 6px 10px;
      border-radius: 6px;
      font-family: inherit;
      font-size: 0.9rem;
      cursor: pointer;
      transition: background 0.15s ease, border-color 0.15s ease;
    }
    .lang-btn:hover { background: #e8e8e8; border-color: #c4c4c4; }
    .lang-btn[aria-pressed="true"] {
      background: #e0e0e0;
      border-color: #bdbdbd;
      font-weight: 600;
    }
    @media (max-width: 480px) {
      .brand-title { font-size: 1rem; white-space: normal; }
      .brand-logo { width: 32px; height: 32px; }
    }
  </style>
</head>
<body>
<header>
  <!-- Header with BMW logo and language buttons (updated: no table) -->
  <div class="top">
    <div class="brand">
      <img
        src="https://raw.githubusercontent.com/BMWTechworks-Pune/BMWTechWorks-VisitorInfo/main/BMW.jpeg"
        alt="BMW logo"
        class="brand-logo"
        decoding="async"
        loading="lazy"
     >
       Â  Â  BMWTechWorks India â€“ Pune
      <button class="lang-btn" type="button" aria-pressed="false" data-lang="de">DE</button>
    </div>
  </div>
  <!-- Navigation buttons -->
  <nav>
    <button class="nav active" data-panel="info">â„¹ï¸ BMWTechWorks Info</button>
    <button class="nav" data-panel="sos">ğŸš¨ SOS â€“ Emergency</button>
    <button class="nav" data-panel="assist">ğŸ†˜ Need Assistance</button>
    <button class="nav" data-panel="layout">ğŸ—ºï¸ Floor Layout & Exit</button>
    <button class="nav" data-panel="ert">ğŸ›¡ï¸ ERT Members</button>
    <button class="nav" data-panel="firstaid">ğŸ§‘â€âš•ï¸ First Aid & Medical Support</button>
    <button class="nav" data-panel="assembly">ğŸ“ Assembly Points</button>
    <button class="nav" data-panel="rooms">ğŸ¢ Meeting Rooms</button>
    <button class="nav" data-panel="it">ğŸ–¥ï¸ IT Helpdesk</button>
    <button class="nav" data-panel="translate">ğŸŒ German â†” English</button>
    <button class="nav" data-panel="parking">ğŸ…¿ï¸ Parking Info</button>
    <button class="nav" data-panel="cab">ğŸš• Cab Facility</button>
    <button class="nav" data-panel="food">ğŸ” Food Delivery Apps</button>
    <button class="nav" data-panel="social">ğŸ”— Social Media Connect</button>
    <button class="nav" data-panel="travel">ğŸ§­ Travel Info, Converter & Hotels</button>
    <button class="nav" data-panel="hotels"> ğŸ¨ Hotels</button>
    <button class="nav" data-panel="share">ğŸ“¥ Download QR</button>
  </nav>
</header>

<main>
  <!-- Info -->
  <section id="panel-info" class="panel active">
    <h2>BMWTechWorks India</h2>
    <div class="card">
      <strong>Address</strong><br>
      BMWTechWorks India, 14 Offices, 1st Floor, Amar Tech Park, Balewadi, Pune, Maharashtra 411045<br>
      https://maps.app.goo.gl/AmarTechParkLinkView on Google Maps</a>
    </div>
    <p class="footer-note">Note: Photography is allowed at C & D areas only.</p>
  </section>

  <!-- SOS -->
  <section id="panel-sos" class="panel">
    <h2>SOS â€“ Emergency</h2>
    <div class="grid">
      <div class="card"><strong>Ambulance â€” Emergency Medical Service</strong><br>
        tel:108ğŸ“ 108</a></div>
      <div class="card"><strong>Facilities BTI Team â€” Dhananjay</strong><br>
        tel:+919657893928ğŸ“ +91 9657893928</a></div>
      <div class="card"><strong>Table Space Duty Cell (24Ã—7) â€” Security</strong><br>
        tel:+918951322756ğŸ“ 8951322756</a></div>
      <div class="card"><strong>ATP Ambulance (24Ã—7) â€” Amar Tech Park Ambulance</strong><br>
        tel:+918421737018ğŸ“ +91 8421737018</a></div>
      <div class="card"><strong>Integrated Emergency Number (24Ã—7)</strong><br>
        Medical, Police, Fire â€” tel:112ğŸ“ 112</a></div>
      <div class="card"><strong>Nearest Hospital â€” Jupiter Hospital, Baner</strong><br>
        <a class="tel" href="tel:+912299</a></div>
      <div class="card"><strong>Nearest Hospital â€” Life Point Multi Speciality Hospital, Wakad</strong><br>
        tel:+912066434366ğŸ“ 020 66434366</a> Â· tel:+917447477993ğŸ“ 7447477993</a></div>
      <div class="card"><strong>Nearest Police Station â€” Aundh Police Station</strong><br>
        tel:+912025881611ğŸ“ 020 25881611</a></div>
      <div class="card"><strong>Nearest Police Station â€” Wakad Police Station</strong><br>
        tel:+912027261120ğŸ“ 020 27261120</a></div>
    </div>
  </section>

  <!-- Meeting Rooms -->
  <section id="panel-rooms" class="panel">
    <h3>Meeting Rooms</h3>

    <div id="roomWrapper">
      r2.png
    </div>
    <br>
    <button class="btn" onclick="resetRoomRoute()">Reset</button>
    <hr>
    <label for="roomSel">Select Room:</label>
    <select id="roomSel" onchange="showRoomRoute()">
      <option value="">-- Select --</option>
      <option>Success</option>
      <option>Inspire</option>
      <option>Joy</option>
      <option>Debug</option>
      <option>iDrive</option>
      <option>M-Mode</option>
      <option>Drift</option>
      <option>xDrive</option>
      <option>Torque</option>
    </select>
    <!-- NOTE: scoped by panel id to avoid conflict with layout panel's routeText -->
    <ol id="routeText"></ol>
  </section>

  <!-- Layout & Exit -->
  <section id="panel-layout" class="panel">
    <h3>Floor Layout & Exit</h3>
    <div class="content">
      <!-- Map: zoom/pan wrapper -->
      <div class="zoom-wrap" id="zoomWrap" style="position:relative; overflow:hidden; border:1px solid #d8def0; border-radius:6px;">
        <!-- Optional overlay holder (SVG will be injected here if you add routes later) -->
        <!-- <svg id="routeOverlay" style="position:absolute; inset:0; pointer-events:none;"></svg> -->
        <img id="zoomImg" class="zoom-inner" src="r1.png" alt="BTI Pune Exit Plan"
            hrome/Edge. Use headphones in open areas.</p>

      <header style="margin-top:6px;">
        <div class="title" style="font-weight:600;">BTI Pune â€¢ Exit Guidance</div>
        <div class="controls" style="display:flex; flex-wrap:wrap; gap:6px; align-items:center;">
          <label for="exitSelect">Exit:</label>
          <select id="exitSelect">
            <option value="None" selected>None</option>
            <option value="EXIT1">EXIT1</option>
            <option value="EXIT2">EXIT2</option>
            <option value="EXIT3">EXIT3</option>
            <option value="EXIT4">EXIT4</option>
            <option value="EXIT5">EXIT5</option>
          </select>

          <label for="langSelect">Lang:</label>
          <select id="langSelect">
            <option value="en">EN</option>
            <option value="de">DE</option>
          </select>

          <!-- Audio & extra zoom controls retained in markup from your original,
               but underlying audio is disabled in script for simplicity -->
          <button class="btn" id="play">ğŸ”Š Play Audio Guidance</button>
          <button class="btn" id="replay">Replay</button>
          <button class="btn" id="mute">Mute</button>
          <button class="btn" id="zoomOut">â– Zoom Out</button>
          <button class="btn" id="zoomIn">â• Zoom In</button>
          <button class="btn" id="resetView">Reset</button>
        </div>
      </header>

      <!-- Guidance text display -->
      <div id="routeText" class="routeText" aria-live="polite"
           style="margin:8px 0; padding:8px; background:#f6f7fb; border:1px solid #d8def0; border-radius:6px;">
        Select an exit to see guidance.
      </div>

      <!-- Hidden audio element driven by the controls -->
      <audio id="routeAudio" preload="auto" style="display:none;"></audio>

      <!-- Optional: Graceful message if JS is disabled -->
      <noscript>
        <div style="padding:12px;color:#e11d48;">
          JavaScript is required for interactive routes and audio guidance.
        </div>
      </noscript>
    </div>
  </section>

  <!-- ERT Members -->
  <section id="panel-ert" class="panel">
    <h2>Emergency Response Team (ERT)</h2>
    <table>
      <thead>
      <tr><th>Department</th><th>Nominated ERT Members</th></tr>
      </thead>
      <tbody>
      <tr><td>ğŸ› ï¸ DPE</td><td>
        ğŸ‘¤ Yogesh Tambat â€” tel:+919921599599ğŸ“ 9921599599</a>
        ğŸ‘¤ Zulqurnain Khan â€” tel:+919284564945ğŸ“ 9284564945</a>
      </td></tr>
      <tr><td>ğŸ’» Digital Company</td><td>
        ğŸ‘¤ Rishabh Kundal â€” tel:+918516062226ğŸ“ 8516062226</a>
      </td></tr>
      <tr><td>ğŸ­ Software Factory</td><td>
        ğŸ‘¤ Sandesh Gharal â€” tel:+919004102339ğŸ“ 9004102339</a>
        ğŸ‘¤ Shubham Jambekar â€” tel:+919594607904ğŸ“ 9594607904</a>
      </td></tr>
      <tr><td>ğŸš— Driving ECU</td><td>
        ğŸ‘¤ Vivek Patil â€” tel:+917499767366ğŸ“ 7499767366</a>
        ğŸ‘¤ Ganesh Garg â€” tel:+917566050340ğŸ“ 7566050340</a>
      </td></tr>
      <tr><td>ğŸ”§ SSP</td><td>
        ğŸ‘¤ Aniket Patil â€” tel:+919834805515ğŸ“ 9834805515</a>
        ğŸ‘¤ Chahul Turkar â€” tel:+919850807794ğŸ“ 9850807794</a>
      </td></tr>
      <tr><td>ğŸ§  AIML & Infotainment</td><td>
        ğŸ‘¤ Pravinkumar Kale â€” tel:+918380073079ğŸ“ 8380073079</a>
        ğŸ‘¤ Vipin Yadav â€” tel:+919205768368ğŸ“ 9205768368</a>
      </td></tr>
      <tr><td>ğŸ“¶ Connected Vehicle</td><td>
        ğŸ‘¤ Rajiv Rengasamy â€” tel:+919944360128ğŸ“ 9944360128</a>
        ğŸ‘¤ Soham Dalwadi â€” tel:+917984473137ğŸ“ 7984473137</a>
      </td></tr>
      <tr><td>ğŸ¢ Facilities</td><td>
        ğŸ‘¤ Dhananjay Maske â€” tel:+919657893928ğŸ“ 9657893928</a>
      </td></tr>
      <tr><td>ğŸ†˜ ERT Support</td><td>
        ğŸ‘¤ Dilip Patil â€” tel:+919922423897ğŸ“ 9922423897</a>;
        ğŸ‘¤ Onkar Shintre â€” tel:+918618301593ğŸ“ 8618301593</a>
      </td></tr>
      </tbody>
    </table>
  </section>

  <!-- First Aid & Medical Support -->
  <section id="panel-firstaid" class="panel">
    <h2>First Aid & Medical Support</h2>
    <p>Nurse Room â€“ Floor 6 : Medical room timings are displayed on site. Wheelchair & Stretcher â€“ Available:</p>
    NurserRoom.jpg
    FirstAidKit.jpg
    NurseRoomMedical.jpg
  </section>

  <!-- Assembly Points -->
  <section id="panel-assembly" class="panel">
    <h2>Assembly Points</h2>
    <ul>
      <li>Assembly Point No.1 Near Gate No-4</li>
      <li>Assembly Point No.2 Near Gate No-3</li>
    </ul>
    <img class="inset.1 Near Gate No-4.jpg
    <img class="inset" src="Assembly Point No.2 Near Gate No-3.jpg" altocedure - Earthquake
      When you feel the tremors, protect yourself as quickly as possible. The National Disaster Management Division (NDMD), Ministry of Home Affairs, recommends the following three actions, known as Drop â€“ Cover â€“ Hold: DROP:- Get down on your hands and knees to prevent being knocked over. Cover:- Protect your head and neck with your arms, take shelter under a sturdy table or near an interior wall, and stay away from windows, glass, and heavy furniture. Hold :- Stay in position and hold onto your shelter until the shaking stops. If You Get Trapped :- Stay calm, cover your nose and mouth to protect yourself from dust, shout, whistle, or tap on nearby objects to attract attention, and remain alert for fallen electrical lines, gas leaks, or unstable structures.</p>
    <p>General Evacuation Procedure - FIRE.
      1. If you notice a fire, activate the nearest red Manual Call Point (MCP) by breaking the glass & a fire alarm sounds as an audible beeper. 2. On hearing the alarm and PA announcement, evacuate immediately using the nearest emergency exit. 3. Do not collect bags, laptops, or valuables & Do not run, move quickly and calmly. 4.Use stairs only. Do not use lifts & assemble at the designated safe assembly area. 5.Do not re-enter until the all-clear is given by the ERT
    </p>
  </section>

  <!-- IT Helpdesk -->
  <section id="panel-it" class="panel">
    <h2>IT Helpdesk</h2>
    <p>Email: mailto:ITHelpdesk.PNQ@bmwtechworks.inITHelpdesk.PNQ@bmwtechworks.in</a></p>
  </section>

  <section id="panel-translate" class="panel">
    <h2>Basic German to English Phrases</h2>
    <table>
      <thead><tr><th>German</th><th>English</th></tr></thead>
      <tbody>
      <tr><td>Hallo</td><td>Hello / Namaste</td></tr>
      <tr><td>Ich mÃ¶chte zu diesem Ort gehen</td><td>I want to go to this place</td></tr>
      <tr><td>Wie viel kostet das?</td><td>How much money?</td></tr>
      <tr><td>Danke</td><td>Thanks</td></tr>
      <tr><td>Ich mÃ¶chte das</td><td>I want this</td></tr>
      <tr><td>Guten Morgen</td><td>Good Morning</td></tr>
      <tr><td>Gute Nacht</td><td>Good Night</td></tr>
      <tr><td>Wo ist die Toilette?</td><td>Where is the restroom?</td></tr>
      <tr><td>KÃ¶nnen Sie mir helfen?</td><td>Can you help me?</td></tr>
      <tr><td>Ich brauche Wasser</td><td>I need water</td></tr>
      </tbody>
    </table>
  </section>

  <!-- Parking Info -->
  <section id="panel-parking" class="panel">
    <h2>Parking Guidelines</h2>
    <ul>
      <li>Parking is strictly first-come, first-served.</li>
      <li>60 slots allocated for employees at P3 and P1 levels.</li>
      <li>No common parking for external visitors/vendors. They must arrange parking outside ATP premises.</li>
    </ul>
  </section>

  <!-- CAB -->
  <section id="panel-cab" class="panel">
    <h2>Cab Facility</h2>
    <ul>
      <li>https://www.olacabs.com/Ola</a></li>
      <li><a href="https://www.uber.com/in/a></li>
    </ul>
  </section>

  <!-- Need Assistance -->
  <section id="panel-assist" class="panel">
    <h2>Need Assistance</h2>
    <div class="grid">
      <!-- First Level -->
      <div class="card">
        <strong>Dhananjay Maske (First Level)</strong><br>
        Facilities Specialities, Amar Tech Park Facility, Pune<br>
        ğŸ‘¤ Dhananjay Maske â€” tel:+919657893928ğŸ“ 9657893928</a>
      </div>
      <!-- Second Level -->
      <div class="card">
        <strong>Minal Pinto (Second Level)</strong><br>
        Head of Facilities & Workplace, Corporate Office, Pune<br>
        ğŸ‘¤ Minal Pinto â€” tel:+919769317569ğŸ“ 9769317569</a>
      </div>
      <!-- Third Level -->
      <div class="card">
        <strong>Vishwas Muthyala (Third Level)</strong><br>
        CHRO, Corporate Office, Pune<br>
        mailto:Vishwas.muthyala@bmwtechworks.in ğŸ“§ Email</a>
      </div>
    </div>
  </section>

  <!-- FOOD -->
  <section id="panel-food" class="panel">
    <h2>Food Delivery</h2>
    <ul>
      <li>https://www.zomato.com/Zomato</a></li>
      <li>https://www.swiggy.com/Swiggy</a></li>
    </ul>
  </section>

  <!-- SOCIAL -->
  <section id="panel-social" class="panel">
    <h2>Social Media & Contact</h2>
    <li>https://www.linkedin.com/LinkedIn</a></li>
    <li>https://bmwtechworks.in/bmwtechworks.in</a></li>
  </section>

  <!-- Share / QR -->
  <section id="panel-share" class="panel active">
    <h2>Download </h2>
    <!-- âœ… ID ADDED -->
    q_code.png<br><br>
    <button class="btn" onclick="downloadQR()">Download QR</button>
    <div class="qr">
      <div class="footer-note" style="margin-top:8px;">
        Tip: Scan this QR to open the Visitor Info page.
      </div>
    </div>
  </section>

  <!-- Travel Info & Converter -->
  <section id="panel-travel" class="panel">
    <h2>Travel Info and Currency Converter</h2>
    <ul>
      <li>https://www.xe.com/currencyconverter/INR â†’ EUR Converter (XE)</a></li>
      <li>https://www.tripadvisor.in/Attractions-g297654-Activitiesarashtra.html/Local Sightseeing in Pune (Tripadvisor)</a></li>
  </section>

  <!-- SOCIAL -->
  <section id="panel-hotels" class="panel">
    <h2>Near By Hotels</h2>
    <ul>
      <li>
        <strong>The Urban Foundry, Baner</strong> â€”
        s8.devourin.com</a>
        <a href="https://www.google.com/maps?client=ubuntu-sn&hs=buO&sca_esv=b243d552b696475b&channel=fs&uact=5&gs_lp=Egxnd3Mtd2l6LXNlcnAiGXVyYmFuIGZvdW5kYXJ5IGJhbmUgcnB1bmUyBhAAGA0YHjIFEAAY7wUyCBAAGIAEGKIEMgUQABjvBTIIEAAYgAQYogRIyDlQtgVY2zdwAngBkAEAmAHcAaAB1B-qAQYwLjIyLjO4AQPIAQD4AQGYAhugAosiqAIKwgIKEAAYsAMY1gQYR8ICFxAAGIAEGJECGLQCGOcGGIoFGOoC2AEBwgIQEAAYAxi0AhjqAhiPAdgBAcICERAuGIAEGJECGMcBGIoFGK8BwgILEAAYgAQYsQMYgwHCAhEQLhiABBixAxjRAxiDARjHAcICCxAuGIAEGNEDGMcBwgIgEC4YgAQYkQIYxwEYigUYrwEYlwUY3AQY3gQY4ATYAQLCAgoQABiABBhDGIoFwgIQEC4YgAQYQxjHARiKBRivAcICFhAuGIAEGEMYxwEYmAUYmQUYigUYrwHCAhAQABiABBixAxhDGIMBGIoFwgIOEC4YgAQYsQMY0QMYxwHCAhMQLhiABBixAxjRAxhDGMcBGIoFwgITEC4YgAQYsQMYQxjHARiKBRivAcICHxAuGIAEGEMYxwEYigUYrwEYlwUY3AQY3gQY4ATYAQLCAgUQABiABMICCBAAGIAEGLEDwgILEC4YgAQYsQMYgwHCAggQLhiABBjlBMICCxAuGIAEGMcBGK8BwgILEAAYgAQYkQIYigXCAhoQLhiABBjHARivARiXBRjcBBjeBBjgBNgBAsICDxAuGIAEGMcBGAoYCxivAcICCRAAGIAEGAoYC8ICBhAAGBYYHsICCBAAGKIEGIkFwgIHECEYoAEYCsICDRAuGIAEGMcBGA0YrwHCAgcQABiABBgNwgIIEAAYBRgNGB7CAhwQLhiABBjHARgNGK8BGJcFGNwEGN4EGOAE2AECmAML4gMFEgExIEDxBXnv-38bTGX-iAYBkAYIugYECAEYB7oGBggCEAEYFJIHBjIuMjEuNKAHoKyMS40uAfzIcIHBjItOS4xOMgH4AGACAA&um=1&ie=UTF-8&fb=1&gl=in&sa=X&geocode=KTHi69k0ucI7MULBGYvXclGy&daddr=1,+Balewadi+High+St,+next+to+Cummins+India+Office,+Laxman+Nagar,+Balewadi,+Pune,+Maharashtra+411045View on Google Maps</a>
        tel:+918983001155ğŸ“ +91 8983001155</a>
      </li>
      <li>
        <strong>Incognito Restaurant Bar & Cafe</strong> â€”
        incognito.co.in</a>
        <a href="https://www.google.com/maps/dir//Panchshil+Business+Park,+Baner+-+Balewadi+Rd,+Baner,+Pune,+Maharashtra+411045/@21.871743,72./data=!4m8!4m7!1m0!1m5!1m1!1s0x3bc2b934e0b3c567:0x1bead0e7c36e5dd7!2m2!1d73.7739887!2d18.5703494?entry=ttu&g_ep=EgoyMDI2MDEwNy4wIKXMDSoKLDEwMDc5MjA3M0gBUAM%3DView on Google Maps</a>
        tel:+91 8975530505ğŸ“ +91 8975530505</a>
      </li>
    </ul>
  </section>
</main>

<p class="footer-note">ğŸ”’ No personal data collected â€¢ No cookies â€¢ Works offline after first load</p>
<footer style="text-align:center; padding:12px; color:var(--muted)">
  @Copyright BTI-Digital CAR PUNE-SSP Team 2026 VB-SHREE</div>
</footer>

<script>
  // Tab router: show one panel, hide others
  const buttons = document.querySelectorAll('button.nav');
  const panels = document.querySelectorAll('section.panel');
  function showPanel(key){
    buttons.forEach(b=>b.classList.toggle('active', b.dataset.panel===key));
    panels.forEach(p=>p.classList.toggle('active', p.id==='panel-'+key));
    window.scrollTo({top:0, behavior:'smooth'});
  }
  buttons.forEach(b=>{
    b.addEventListener('click', e=>{
      e.preventDefault();
      showPanel(b.dataset.panel);
    });
  });
  document.getElementById('download-qr')?.addEventListener('click', e=>{
    e.preventDefault();
  });

  document.addEventListener('DOMContentLoaded', () => {
    /* =========================================
       BTI Pune â€¢ Exit Guidance (TTS only)
       Original logic retained visually; audio disabled below for simplicity
    ========================================= */
    /* ----- Guidance (EN/DE) ----- */
    const GUIDANCE = {
      en: {
        EXIT1: "From your current location, move west along the main corridor; at the junction turn north to reach the West Exit (near Success â€“ Board room).",
        EXIT2: "Head west and then south along the corridor to the Southâ€‘West Exit (near Joy).",
        EXIT3: "Proceed towards the central corridor and continue north to the Central Exit (near Debug).",
        EXIT4: "Go east along the main corridor; at the next junction turn north to reach the East Exit (near iDrive/Mâ€‘Mode).",
        EXIT5: "Continue east to the far right wing and turn south to reach the Farâ€‘East Exit (near Xdrive/Torque)."
      },
      de: {
        EXIT1: "Gehen Sie nach Westen entlang des Hauptflurs; biegen Sie an der Kreuzung nach Norden ab zum Westausgang (bei Success â€“ Board room).",
        EXIT2: "Gehen Sie nach Westen und dann nach SÃ¼den entlang des Flurs zum SÃ¼dwestausgang (bei Joy).",
        EXIT3: "Gehen Sie zum zentralen Flur und weiter nach Norden zum Zentralausgang (bei Debug).",
        EXIT4: "Gehen Sie nach Osten entlang des Hauptflurs; biegen Sie an der nÃ¤chsten Kreuzung nach Norden ab zum Ostausgang (bei iDrive/Mâ€‘Mode).",
        EXIT5: "Gehen Sie weiter nach Osten bis zum rechten FlÃ¼gel und biegen Sie nach SÃ¼den ab zum ganz rechten Ostausgang (bei Xdrive/Torque)."
      }
    };

    /* ----- DOM refs ----- */
    const zoomWrap = document.getElementById('zoomWrap');
    const zoomImg = document.getElementById('zoomImg');
    const exitSelect = document.getElementById('exitSelect');
    const langSelect = document.getElementById('langSelect');
    const playHeader   = document.getElementById('play');
    const replayHeader = document.getElementById('replay');
    const muteHeader   = document.getElementById('mute');
    const zoomOutHeader = document.getElementById('zoomOut');
    const zoomInHeader  = document.getElementById('zoomIn');
    const resetHeader   = document.getElementById('resetView');
    const routeTextDiv  = document.querySelector('#panel-layout #routeText'); // scoped

    function normalizeExit(v){ return String(v||'').trim().toUpperCase(); }
    function normalizeLang(v){ v = String(v||'').trim().toLowerCase(); return v === 'de' ? 'de' : 'en'; }
    function isValidExit(val){ val = normalizeExit(val); return ['EXIT1','EXIT2','EXIT3','EXIT4','EXIT5'].includes(val); }
    function defaultMessage(lang){ return lang==='de' ? 'WÃ¤hlen Sie einen Ausgang aus, um die Anleitung zu sehen.' : 'Select an exit to see guidance.'; }

    // Force default EXIT1
    if (exitSelect) { exitSelect.value = 'EXIT1'; }
    let currentExit = normalizeExit(exitSelect?.value || 'EXIT1');
    let currentLang = normalizeLang(langSelect?.value || 'en');
    let isMuted = false;

    function guidanceText(){
      if (!isValidExit(currentExit)) return defaultMessage(currentLang);
      const phrases = GUIDANCE[currentLang] || GUIDANCE.en;
      return phrases[currentExit] || defaultMessage(currentLang);
    }
    function updateGuidanceUI(){
      const header = isValidExit(currentExit) ? `${currentExit} â€¢ ${currentLang.toUpperCase()}` : `${currentLang.toUpperCase()}`;
      routeTextDiv.textContent = `${header} â€¢ ${guidanceText()}`;
    }

    // Init (render text immediately)
    function init(){
      updateGuidanceUI(); // TEXT VISIBLE ON LOAD for EXIT1
    }
    init();

    // Dropdown handlers (text updates instantly)
    exitSelect?.addEventListener('change', () => {
      currentExit = normalizeExit(exitSelect.value);
      updateGuidanceUI(); // TEXT VISIBLE IMMEDIATELY ON EXIT CHANGE
    });
    langSelect?.addEventListener('change', () => {
      currentLang = normalizeLang(langSelect.value);
      updateGuidanceUI(); // TEXT VISIBLE IMMEDIATELY ON LANG CHANGE
    });

    // Disable audio actions and keep buttons intact visually
    playHeader?.addEventListener('click', () => { /* audio removed */ });
    replayHeader?.addEventListener('click', () => { /* audio removed */ });
    muteHeader?.addEventListener('click', () => { /* audio removed */ });

    // Basic zoom for the exit image (retained, but you asked to remove audio/zoom for rooms only)
    let scale = 1, tx = 0, ty = 0;
    function applyTransform(){ if (!zoomImg) return; const t = `translate(${tx}px, ${ty}px) scale(${scale})`; zoomImg.style.transformOrigin = '0 0'; zoomImg.style.transform = t; }
    function zoomBy(delta){ scale = Math.max(0.5, Math.min(4, scale + delta)); applyTransform(); }
    function resetView(){ scale = 1; tx = 0; ty = 0; applyTransform(); }
    let dragging = false, sx = 0, sy = 0;
    zoomWrap?.addEventListener('pointerdown', (e) => { dragging = true; zoomWrap.setPointerCapture(e.pointerId); sx = e.clientX - tx; sy = e.clientY - ty; });
    zoomWrap?.addEventListener('pointermove', (e) => { if (!dragging) return; tx = e.clientX - sx; ty = e.clientY - sy; applyTransform(); });
    zoomWrap?.addEventListener('pointerup', (e) => { dragging = false; zoomWrap.releasePointerCapture(e.pointerId); });
    document.addEventListener('keydown', (e) => {
      if (e.key === '+') zoomBy(0.25);
      if (e.key === '-') zoomBy(-0.25);
      if (e.key.toLowerCase() === 'r') resetView();
    });
    zoomInHeader?.addEventListener('click', () => zoomBy(0.25));
    zoomOutHeader?.addEventListener('click', () => zoomBy(-0.25));
    resetHeader?.addEventListener('click', () => { resetView(); });

  });

  // ---------- Meeting Rooms: English-only text (no audio/zoom) ----------
  // Existing routeText data (English/German) already present in your original file.
  // We'll use English only.
  const roomRouteText = {
    en: {
      Success: ['Reception â†’ left corridor', 'Proceed up to board room', 'Success (Board)'],
      Inspire: ['Reception â†’ left corridor', 'Training room next to Success'],
      Joy:     ['Reception â†’ left corridor', 'Joy is near Visitor area'],
      Debug:   ['Reception â†’ main corridor', 'Continue to middle section', 'Debug lab is at center'],
      iDrive:  ['Reception â†’ main corridor', 'Pass Debug', 'iDrive opposite Debug'],
      'M-Mode':['Reception â†’ main corridor', 'Turn right', 'Mâ€‘Mode corner room'],
      Drift:   ['Reception â†’ main corridor', 'Turn right into side corridor â†’ Tâ€‘junction', 'Drift next to xDrive'],
      Xdrive:  ['Reception â†’ main corridor', 'Turn right into side corridor', 'xDrive near Torque'],
      Torque:  ['Reception â†’ far right end', 'Opposite xDrive', 'Torque room']
    }
  };

  function showRoomRoute() {
    const sel = document.getElementById('roomSel');
    const stepsEl = document.querySelector('#panel-rooms #routeText'); // scoped to avoid conflicts
    stepsEl.innerHTML = '';

    const roomRaw = (sel?.value || '').trim();
    if (!roomRaw) return;

    // Normalize key (Xdrive vs xDrive)
    const key = roomRaw === 'xDrive' ? 'Xdrive' : roomRaw;

    const steps = (roomRouteText.en && roomRouteText.en[key]) ? roomRouteText.en[key] : [];

    if (!steps.length) {
      const li = document.createElement('li');
      li.textContent = 'No steps available for this room.';
      stepsEl.appendChild(li);
      return;
    }

    steps.forEach(s => {
      const li = document.createElement('li');
      li.textContent = s;
      stepsEl.appendChild(li);
    });
  }

  function resetRoomRoute() {
    const stepsEl = document.querySelector('#panel-rooms #routeText');
    const sel = document.getElementById('roomSel');
    if (stepsEl) stepsEl.innerHTML = '';
    if (sel) sel.value = '';
  }

  /* ---------- QR FIX ---------- */
  const LANDING_URL="https://techworks-pune.github.io/BMWTechWorks-VisitorInfo/";
  async function downloadQR(){
    const img=document.getElementById("siteQR");
    const res=await fetch(img.src);
    const blob=await res.blob();
    const url=URL.createObjectURL(blob);
    const a=document.createElement("a");
    a.href=url;
    a.download="BMWTechWorks_QR.png";
    a.click();
    URL.revokeObjectURL(url);
  }
  async function shareQR(){
    if(navigator.share){
      navigator.share({
        title:"BMWTechWorks Pune",
        url:LANDING_URL
      });
    }else{
      navigator.clipboard.writeText(LANDING_URL);
      alert("Link copied to clipboard");
    }
  }
</script>
</body>
</html>

